<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/images/Revival created logo.png">
    <link rel="stylesheet" href="/css/events.css">
    <link rel="stylesheet" href="/css/all.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <title>Revival Abuja</title>
</head>
<body>
    

    <header>
        <div class="logo">
          <a href="/"> <abbr title="Revival Assembly"><img src="/images/Revival created logo.png" alt=""></abbr> </a>
        </div>
        <div class="ham">
           <abbr title="Open Hamburger"><img src="/images/hamburger-svgrepo-com (1).png" alt="" class="hamm"></abbr> 
        </div>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/Sermon">Sermons</a></li>
                <li><a class="onpage" href="/events">Events</a></li>
                <li><a href="/gallery">Gallery</a></li>
                <li><a href="/testimonies">Stories/Testimonies</a></li>
                <li><a href="/blog">Blog</a></li>
                <li><a href="/about">About</a></li>
                <li><a href="/contact">Contact</a></li>
            </ul>

            <div class="joinbtn">
                
            <button class="give">Give</button>
            </div>
        </nav>
    </header>







    <%- include("_giving") %>

   





<div class="events">
     <div class="d-events" id="d-events">

        <div class="eventstop">
            
        <p class="d-eventheadp">Events</p>
        </div>

        <div class="realevent">

            
          


            <% if (event && event.length > 0) { %>
                <% event.forEach(function (event) { %>
    
            <div class="d-event">
                <img src="<%= event.image1 %>" alt="">
                <p class="eventheadp"><%= event.etitle %></p>

                <section class="bodyp">
                    <p class="eventbodyp"><%= event.etext %></p>
                </section>

                <section class="td">
                    <p class="time"><%= event.time %></p>
                    <p class="date"><%= event.date %></p>
                </section>
                

                <section class="btn">
                    <button 
                    class="keep" 
                    data-date="<%= event.date %>" 
                    data-time="<%= event.time %>" 
                    data-title="<%= event.etitle %>" 
                    data-location="1-7, Revival Close, Off Cocoa Industrial Road, Cocoa Bus Stop Ogba Ikeja Ikeja, Lagos 100001" 
                    data-desc="<%= event.etext %>">
                    Keep date
                  </button>
                  
                </section>
                
         
                
            </div>
    
                    
                <% }); %>
            <% } else { %>
                <p class="nob">No Event yet.</p>
            <% } %>
   
        </div>




    </div>
</div>







<%- include("_footer") %>

<!-- <script>
    document.querySelectorAll('.keep').forEach(button => {
      button.addEventListener('click', function () {
        const rawDate = this.dataset.date;   // e.g., "July 17, 2025"
        const rawTime = this.dataset.time;   // e.g., "8:30am"
        const title = this.dataset.title;
        const description = this.dataset.desc;
        const location = this.dataset.location;
  
        if (!rawDate || !rawTime || !title || !description || !location) {
          alert("Missing event details.");
          return;
        }
  
        // Combine date and time into ISO-like format: YYYY-MM-DDTHH:mm
        const parseDateTime = (dateStr, timeStr) => {
          const [monthStr, day, year] = dateStr.replace(',', '').split(' ');
          const months = {
            January: 0, February: 1, March: 2, April: 3, May: 4, June: 5,
            July: 6, August: 7, September: 8, October: 9, November: 10, December: 11
          };
  
          const month = months[monthStr];
          const dayNum = parseInt(day);
          const yearNum = parseInt(year);
  
          // Convert time to 24-hour
          const match = timeStr.match(/^(\d{1,2}):(\d{2})(am|pm)$/i);
          if (!match) return null;
  
          let [_, hour, minute, meridian] = match;
          hour = parseInt(hour);
          if (meridian.toLowerCase() === 'pm' && hour !== 12) hour += 12;
          if (meridian.toLowerCase() === 'am' && hour === 12) hour = 0;
  
          return new Date(yearNum, month, dayNum, hour, parseInt(minute));
        };
  
        const localStartDate = parseDateTime(rawDate, rawTime);
        if (!localStartDate || isNaN(localStartDate.getTime())) {
          alert("Invalid date or time format: " + rawDate + " " + rawTime);
          return;
        }
  
        const formatDate = (date) => {
          const pad = (n) => n.toString().padStart(2, '0');
          return `${date.getFullYear()}${pad(date.getMonth() + 1)}${pad(date.getDate())}T${pad(date.getHours())}${pad(date.getMinutes())}00`;
        };
  
        const start = formatDate(localStartDate);
        const end = formatDate(new Date(localStartDate.getTime() + 60 * 60 * 1000)); // +1 hour
  
        const calendarUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(title)}&details=${encodeURIComponent(description)}&location=${encodeURIComponent(location)}&dates=${start}/${end}`;
        
        window.open(calendarUrl, '_blank');
      });
    });
  </script>
   -->
  
  
  
   <script>
    document.querySelectorAll('.keep').forEach(button => {
        button.addEventListener('click', () => {
            const date = encodeURIComponent(button.dataset.date);
            const time = encodeURIComponent(button.dataset.time);
            const title = encodeURIComponent(button.dataset.title);
            const location = encodeURIComponent(button.dataset.location);
            const desc = encodeURIComponent(button.dataset.desc);
    
            // Build the query string
            const queryString = `?date=${date}&time=${time}&title=${title}&location=${location}&desc=${desc}`;
    
            // Redirect to the other site with the data
            // const userId = 'your_user_id_here'; // Replace dynamically if you know it
            window.location.href = `http://localhost:4900/createe/${queryString}`;
        });
    });
    </script>
    
  




 <script src="/js/giveo.js"></script>
    <script src="/js/all.js"></script>
   
    
    <script src="https://js.paystack.co/v1/inline.js"></script>

   
</body>
</html>